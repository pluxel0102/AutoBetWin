<Window
    x:Class="AutoBet.Views.MelBetStatsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Closed="Window_Closed">

    <Window.SystemBackdrop>
        <DesktopAcrylicBackdrop/>
    </Window.SystemBackdrop>

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.Resources>
            <!-- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð¿ÑƒÐ»ÑŒÑÐ°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¸ÐºÐ¾Ð½ÐºÐ¸ ÑÑ‚Ð°Ñ‚ÑƒÑÐ° -->
            <Storyboard x:Name="PulseAnimation" RepeatBehavior="Forever" AutoReverse="True">
                <DoubleAnimation 
                    Storyboard.TargetName="StatusIcon"
                    Storyboard.TargetProperty="Opacity"
                    From="0.3"
                    To="1.0"
                    Duration="0:0:2.5"
                    EnableDependentAnimation="True">
                    <DoubleAnimation.EasingFunction>
                        <SineEase EasingMode="EaseInOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="200"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð¾ÐºÐ½Ð° -->
        <Grid Grid.Row="0"
              Height="40"
              Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
              BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}"
              BorderThickness="0,0,0,1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- ÐžÐ±Ð»Ð°ÑÑ‚ÑŒ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÑ‚Ð°ÑÐºÐ¸Ð²Ð°Ð½Ð¸Ñ -->
            <Grid x:Name="AppTitleBar" 
                  Grid.Column="0"
                  Grid.ColumnSpan="2"
                  Background="Transparent">
                
                <!-- Ð˜ÐºÐ¾Ð½ÐºÐ° Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÐºÐ½Ð° -->
                <StackPanel Orientation="Horizontal" 
                           Spacing="8" 
                           Margin="16,0,0,0"
                           VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE9D9;" 
                             FontSize="16"
                             Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                    <TextBlock Text="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÐœÐµÐ»Ð‘ÐµÑ‚" 
                              FontSize="13"
                              FontWeight="SemiBold"
                              Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                              VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ -->
            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ ÑƒÐ±Ñ€Ð°Ð½Ð°, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ -->
        </Grid>

        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
        <Border Grid.Row="1" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                Padding="20,16"
                BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}"
                BorderThickness="0,0,0,1">
            <StackPanel Spacing="6">
                <TextBlock Text="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÐºÑƒÐ±Ð¸ÐºÐ¾Ð²" 
                           FontSize="22" 
                           FontWeight="Bold"
                           Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                
                <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ñ Ð°Ð½Ð¸Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð¸ÐºÐ¾Ð½ÐºÐ¾Ð¹ -->
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <Ellipse x:Name="StatusIcon"
                             Width="10"
                             Height="10"
                             Fill="#4CAF50"
                             VerticalAlignment="Center"
                             Opacity="0.3"/>
                    
                    <TextBlock x:Name="StatusText" 
                               Text="Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ð·Ð°Ð¿ÑƒÑÐºÑƒ" 
                               FontSize="13"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ -->
        <ScrollViewer Grid.Row="2" 
                      VerticalScrollBarVisibility="Auto"
                      Padding="16,12,16,12">
            <StackPanel x:Name="StatsContainer" Spacing="16"/>
        </ScrollViewer>

        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð»Ð¾Ð³Ð¾Ð² -->
        <Border Grid.Row="3"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}"
                BorderThickness="0,1,0,1"
                Padding="12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ -->
                <Grid Grid.Row="0" Margin="0,0,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0"
                               Text="ðŸ“‹ Ð›Ð¾Ð³Ð¸ Ð´ÐµÑ‚ÐµÐºÑ†Ð¸Ð¸"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                               VerticalAlignment="Center"/>
                    
                    <Button Grid.Column="1"
                            x:Name="OpenLogsFolderButton"
                            Click="OpenLogsFolderButton_Click"
                            Width="32"
                            Height="32"
                            Padding="0"
                            CornerRadius="6"
                            Background="Transparent"
                            BorderThickness="1"
                            BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                            ToolTipService.ToolTip="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ Ñ Ð»Ð¾Ð³Ð°Ð¼Ð¸"
                            Margin="0,0,4,0">
                        <FontIcon Glyph="&#xE8B7;" FontSize="14" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                    </Button>
                    
                    <Button Grid.Column="2"
                            x:Name="CopyLogsButton"
                            Click="CopyLogsButton_Click"
                            Width="32"
                            Height="32"
                            Padding="0"
                            CornerRadius="6"
                            Background="Transparent"
                            BorderThickness="1"
                            BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                            ToolTipService.ToolTip="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÐµ Ð»Ð¾Ð³Ð¸">
                        <FontIcon Glyph="&#xE8C8;" FontSize="14" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                    </Button>
                </Grid>
                
                <ScrollViewer x:Name="LogScrollViewer"
                              Grid.Row="1"
                              VerticalScrollBarVisibility="Auto"
                              Background="{ThemeResource ControlFillColorDefaultBrush}"
                              CornerRadius="6">
                    <TextBox x:Name="LogTextBox"
                             FontFamily="Consolas"
                             FontSize="11"
                             Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                             Background="Transparent"
                             BorderThickness="0"
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             Padding="8"/>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ -->
        <Border Grid.Row="4" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                Padding="16"
                BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}"
                BorderThickness="0,1,0,0">
            <StackPanel Spacing="8">
                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°Ð¿ÑƒÑÐºÐ°/Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ -->
                <Button x:Name="StartStopButton"
                        Click="StartStopButton_Click"
                        HorizontalAlignment="Stretch"
                        Height="48"
                        CornerRadius="24"
                        Background="#4CAF50"
                        BorderThickness="0">
                    <Button.Resources>
                        <ResourceDictionary>
                            <SolidColorBrush x:Key="ButtonBackgroundPointerOver" Color="#5CBF60"/>
                            <SolidColorBrush x:Key="ButtonBackgroundPressed" Color="#449D48"/>
                        </ResourceDictionary>
                    </Button.Resources>
                    <TextBlock x:Name="StartStopText" 
                               Text="ÐÐ°Ñ‡Ð°Ñ‚ÑŒ" 
                               FontSize="15"
                               FontWeight="Bold"
                               Foreground="White"
                               HorizontalAlignment="Center"/>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Window>
